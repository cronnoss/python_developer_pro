## Задание
### Scoring API Tests

*Задание*: протестировать HTTP API сервиса скоринга. Шаблон уже есть в test.py, само API реализовывалось в прошлой части ДЗ. Тесты, выданные ранее, можно считать функциональными и уже готовыми.
1. Необходимо разработать модульные (unit) тесты на основной функционал. Разрешается пользоваться любым тестовым фреймворком: unittest, nosetests, pytest. 
2. Обязательно необходимо реализовать через декоратор функционал запуска кейса с разными тест-векторами (Либо, в качестве альтернативы, сделать тоже самое через фикстуры в pytest). Если берете готовый cases, то его надо допилить так, чтобы припадении теста было ясно какой кейс упал.

```
    @cases([
        {"account": "horns&hoofs", "login": "h&f", "method": "online_score", "token": "", "arguments": {}},
        {"account": "horns&hoofs", "login": "h&f", "method": "online_score", "token": "sdd", "arguments": {}},
        {"account": "horns&hoofs", "login": "admin", "method": "online_score", "token": "", "arguments": {}},
    ])
    def test_bad_auth(self, request):
    	...
```

3. store, который был захардкожен в None, наконец обретает смысл! нужно реализовать в store.py общение с любым клиент-серверным key-value хранилищем (tarantool, memcache, redis, etc.) согласно интерфейсу заданному в обновленном scoring.py. Обращение к хранилищу не должно падать из-за разорванного соединения (т.е. store должен пытаться переподключаться N раз преждем чем сдаться) и запросы не должны залипать (нужно использовать timeout'ы где возможно).
	* У store есть отдельно `get` и `cache_get`. В реальной системы, аналогом которой является API из ДЗ, есть отдельный кеш и отдельный key-value storage. Методы названы по-разному, чтобы показать что есть разница. В данном случае, внутри можно реализовать это и как хождение в одно и тоже хранилище. Важно то, как это будет протестировано с учетом разных требований для разных функций.  Обратите внимание, функции `get_score` не важна доступность store'а, она использует его как кэш и, следовательно, должна работать даже если store сгорел в верхних слоях атмосферы. `get_interests` использует store как персистентное хранилище и если со store'ом что-то случилось может отдавать только ошибки.
4. (задание со "звездочкой") добавить интеграционные тесты нового функционала c реальным хранилищем.
5. Структура тестов https://realpython.com/python-testing/#writing-integration-tests

***
### Тесты (папка ./api/tests/ ):
* функциональные `pytest test.py`
* Взаимодействия с redis-сервером в эмуляции через fakeredis `pytest test_server_emulation.py`
* Взаимодействия с реальным redis-сервером в Docker `pytest test_server_real.py`

В GitHub actions реализованы первые два, с реальным сервером тестирование проводилось локально.